# AVTV 串流影片播放器 APP 測試計畫

## 測試概述

### 測試目標
確保AVTV串流影片播放器APP在各種Android設備上穩定運行，三個資料源正常工作，支援手機觸控和TV遙控器操作。

### 測試範圍
- **功能測試**: 核心功能驗證
- **介面測試**: UI/UX測試
- **相容性測試**: 設備與系統相容性
- **效能測試**: 記憶體、網路、播放效能
- **安全性測試**: 資料保護與存取控制
- **可用性測試**: 使用者體驗測試

## 第一階段：功能測試 (第1-3週)

### 1.1 資料源功能測試

#### 動畫頁籤測試
**測試案例 TC001**: 動畫列表載入
```
前置條件: APP啟動，網路連線正常
測試步驟:
1. 點擊動畫頁籤
2. 等待列表載入
3. 驗證顯示一行5個動畫項目
4. 檢查縮圖是否正常載入

預期結果: 
- 動畫列表正常顯示
- Grid配置為一行5個
- 縮圖載入完成
- 無錯誤訊息
```

**測試案例 TC002**: 動畫播放功能
```
前置條件: 動畫列表已載入
測試步驟:
1. 選擇任一動畫項目
2. 點擊播放
3. 驗證播放器啟動
4. 檢查影片是否正常播放
5. 測試暫停/播放控制

預期結果:
- 播放器正常啟動
- 影片流暢播放
- 控制項功能正常
- 字幕同步顯示
```

#### LIMIT1中文字幕測試
**測試案例 TC003**: 年齡驗證機制
```
前置條件: 首次進入LIMIT1頁籤
測試步驟:
1. 點擊LIMIT1頁籤
2. 驗證年齡驗證對話框出現
3. 選擇年齡驗證選項
4. 檢查後續內容存取

預期結果:
- 年齡驗證對話框正常顯示
- 驗證通過後可存取內容
- 未通過驗證則禁止存取
```

**測試案例 TC004**: 中文字幕功能
```
前置條件: 通過年齡驗證，選擇影片
測試步驟:
1. 播放LIMIT1影片
2. 檢查字幕選項
3. 切換不同字幕格式(SRT/VTT/ASS)
4. 驗證字幕同步性

預期結果:
- 字幕選項可正常選擇
- 各格式字幕正常顯示
- 字幕與影片同步
```

#### 中文1中文字幕測試
**測試案例 TC005**: 多播放器引擎測試
```
前置條件: 進入中文1頁籤
測試步驟:
1. 選擇不同格式影片(M3U8/MP4/DASH)
2. 驗證播放器自動選擇
3. 測試播放器切換功能
4. 檢查播放品質

預期結果:
- 播放器根據格式自動選擇
- 可手動切換播放器
- 播放品質穩定
```

**測試案例 TC006**: 故障轉移測試
```
前置條件: 模擬主要伺服器故障
測試步驟:
1. 中斷主要伺服器連線
2. 嘗試播放影片
3. 驗證自動切換到備用伺服器
4. 檢查使用者體驗

預期結果:
- 自動切換到備用伺服器
- 切換過程無明顯延遲
- 使用者感知最小化
```

### 1.2 介面功能測試

**測試案例 TC007**: 工具列切換測試
```
前置條件: APP主畫面
測試步驟:
1. 點擊不同資料源按鈕
2. 驗證內容切換
3. 檢查載入狀態指示
4. 測試快速切換

預期結果:
- 資料源正常切換
- 載入狀態清楚顯示
- 快速切換無異常
```

**測試案例 TC008**: Grid佈局測試
```
前置條件: 任一資料源已載入
測試步驟:
1. 檢查手機橫版顯示(一行5個)
2. 測試滾動功能
3. 驗證項目點擊回應
4. 檢查Grid項目對齊

預期結果:
- 橫版顯示一行5個項目
- 滾動流暢無卡頓
- 點擊回應正常
- 項目對齊整齊
```

## 第二階段：遙控器操作測試 (第4-5週)

### 2.1 TV遙控器功能測試

**測試案例 TC009**: 方向鍵導航測試
```
測試環境: Android TV或TV盒子
前置條件: APP在TV上運行
測試步驟:
1. 使用方向鍵(上下左右)導航
2. 檢查焦點移動是否正確
3. 驗證邊界處理
4. 測試環形導航

預期結果:
- 方向鍵導航正常
- 焦點移動符合邏輯
- 邊界處理正確
- 視覺回饋清楚
```

**測試案例 TC010**: 確認鍵功能測試
```
前置條件: TV遙控器導航到任一項目
測試步驟:
1. 按下確認鍵(中央按鍵)
2. 驗證項目選擇功能
3. 測試播放啟動
4. 檢查播放控制

預期結果:
- 確認鍵功能正常
- 項目選擇正確
- 播放正常啟動
- 播放控制可用
```

**測試案例 TC011**: 返回鍵功能測試
```
前置條件: 在播放器或子頁面
測試步驟:
1. 按下返回鍵
2. 驗證頁面返回功能
3. 測試多層返回
4. 檢查狀態保存

預期結果:
- 返回功能正常
- 頁面堆疊正確
- 狀態正確保存
```

### 2.2 焦點管理測試

**測試案例 TC012**: 焦點視覺效果測試
```
前置條件: TV環境下使用遙控器
測試步驟:
1. 移動焦點到不同項目
2. 檢查高亮效果
3. 驗證焦點邊框
4. 測試焦點動畫

預期結果:
- 焦點高亮效果明顯
- 邊框清楚可見
- 動畫流暢自然
```

## 第三階段：相容性測試 (第6-7週)

### 3.1 設備相容性測試

**測試矩陣**:
| 設備類型 | Android版本 | 測試重點 |
|----------|-------------|----------|
| 手機 | 6.0-13 | 觸控操作、橫版顯示 |
| 平板 | 7.0-13 | 大螢幕適配、Grid佈局 |
| Android TV | 9.0-13 | 遙控器操作、TV介面 |
| TV盒子 | 7.1-13 | 硬體解碼、網路穩定性 |

**測試案例 TC013**: Android版本相容性
```
測試範圍: Android 6.0 到 Android 13
測試步驟:
1. 在不同Android版本安裝APP
2. 測試核心功能
3. 檢查API相容性
4. 驗證權限請求

預期結果:
- 所有支援版本正常運行
- 功能無差異
- 權限請求正確
```

### 3.2 螢幕尺寸適配測試

**測試案例 TC014**: 多螢幕尺寸測試
```
測試範圍: 
- 小螢幕: 4.7-5.5吋
- 中螢幕: 5.5-6.5吋  
- 大螢幕: 6.5吋以上
- 平板: 7-12吋
- TV: 32-65吋

測試步驟:
1. 在不同尺寸設備測試
2. 檢查Grid佈局適配
3. 驗證文字可讀性
4. 測試觸控目標大小

預期結果:
- 所有尺寸正常顯示
- Grid一行維持5個項目
- 文字清楚可讀
- 觸控目標適當
```

## 第四階段：效能測試 (第8-9週)

### 4.1 記憶體效能測試

**測試案例 TC015**: 記憶體洩漏測試
```
測試工具: LeakCanary
測試步驟:
1. 長時間運行APP
2. 頻繁切換頁面
3. 多次播放影片
4. 監控記憶體使用

預期結果:
- 無記憶體洩漏
- 記憶體使用穩定
- GC頻率正常
```

**測試案例 TC016**: 記憶體壓力測試
```
測試條件: 低記憶體設備(2GB RAM以下)
測試步驟:
1. 同時開啟多個APP
2. 啟動AVTV APP
3. 測試功能完整性
4. 監控記憶體警告

預期結果:
- 低記憶體環境正常運行
- 適當的記憶體管理
- 無崩潰現象
```

### 4.2 網路效能測試

**測試案例 TC017**: 網路速度適配測試
```
測試環境: 
- 高速網路: 100Mbps+
- 中速網路: 10-50Mbps
- 低速網路: 1-5Mbps
- 2G/3G/4G/5G網路

測試步驟:
1. 在不同網速環境測試
2. 檢查載入速度
3. 測試播放品質自動調整
4. 驗證緩衝策略

預期結果:
- 自動適配網路速度
- 播放品質智能調整
- 緩衝策略有效
```

**測試案例 TC018**: 網路中斷恢復測試
```
測試步驟:
1. 播放影片中途中斷網路
2. 恢復網路連線
3. 檢查自動恢復功能
4. 驗證播放位置保存

預期結果:
- 網路中斷提示明確
- 恢復後自動重連
- 播放位置正確保存
```

### 4.3 播放效能測試

**測試案例 TC019**: 播放器效能測試
```
測試內容:
- 不同解析度: 480p/720p/1080p/4K
- 不同格式: MP4/M3U8/DASH
- 不同編碼: H.264/H.265/VP9

測試步驟:
1. 播放不同格式影片
2. 監控CPU/GPU使用率
3. 檢查播放流暢度
4. 測試硬體解碼

預期結果:
- 播放流暢無卡頓
- 硬體解碼正常工作
- 資源使用合理
```

## 第五階段：安全性測試 (第10週)

### 5.1 存取控制測試

**測試案例 TC020**: 年齡驗證安全性
```
測試步驟:
1. 嘗試繞過年齡驗證
2. 測試資料持久性
3. 檢查驗證邏輯
4. 驗證重置機制

預期結果:
- 無法繞過年齡驗證
- 驗證狀態正確保存
- 邏輯嚴密無漏洞
```

### 5.2 資料安全測試

**測試案例 TC021**: 敏感資料保護
```
測試內容:
- 使用者偏好設定
- 觀看記錄
- 登入狀態
- 快取資料

測試步驟:
1. 檢查資料加密
2. 驗證本地存儲安全
3. 測試資料清除
4. 檢查傳輸安全

預期結果:
- 敏感資料加密存儲
- 本地存儲安全
- 資料清除完整
- 傳輸使用HTTPS
```

## 第六階段：可用性測試 (第11週)

### 6.1 使用者體驗測試

**測試案例 TC022**: 新手使用者測試
```
測試對象: 未使用過APP的使用者
測試任務:
1. 首次啟動APP
2. 瀏覽不同資料源
3. 選擇並播放影片
4. 使用基本功能

評估指標:
- 任務完成率
- 操作時間
- 錯誤率
- 滿意度
```

**測試案例 TC023**: TV使用者測試
```
測試環境: Android TV + 遙控器
測試任務:
1. 使用遙控器導航
2. 選擇並播放內容
3. 調整播放設定
4. 切換資料源

評估指標:
- 導航效率
- 學習曲線
- 操作滿意度
```

## 測試環境與工具

### 測試設備清單
```
手機設備:
- Samsung Galaxy S21 (Android 13)
- Xiaomi 12 (Android 12)
- OnePlus 9 (Android 11)
- Huawei P30 (Android 10)
- 舊款設備 (Android 6.0-8.0)

平板設備:
- Samsung Tab S8 (Android 12)
- iPad (使用Android模擬器測試)

TV設備:
- Sony Android TV (Android TV 11)
- 小米電視盒子4 (Android TV 9)
- Nvidia Shield TV (Android TV 11)
```

### 測試工具
```
自動化測試:
- Espresso: UI自動化測試
- UiAutomator: 跨APP測試
- Monkey: 壓力測試

效能測試:
- Android Profiler: 效能監控
- LeakCanary: 記憶體洩漏檢測
- Systrace: 系統性能分析

網路測試:
- Charles Proxy: 網路請求監控
- Wireshark: 網路封包分析
- Network Link Conditioner: 網路環境模擬
```

### 測試資料
```
測試影片:
- 不同解析度測試檔案
- 不同格式串流URL
- 字幕測試檔案
- 損壞檔案(負面測試)

測試帳號:
- 已驗證年齡帳號
- 未驗證帳號
- 付費會員帳號
- 受限地區帳號
```

## 缺陷管理

### 嚴重等級定義
- **P0 (Critical)**: 功能完全無法使用，影響核心流程
- **P1 (High)**: 主要功能異常，影響使用體驗
- **P2 (Medium)**: 次要功能問題，有替代方案
- **P3 (Low)**: 介面問題，不影響功能

### 測試通過標準
```
發布標準:
- P0缺陷: 0個
- P1缺陷: ≤ 2個
- P2缺陷: ≤ 10個
- P3缺陷: ≤ 20個

效能標準:
- 啟動時間: ≤ 3秒
- 頁面切換: ≤ 1秒
- 影片載入: ≤ 5秒
- 記憶體使用: ≤ 200MB
```

## 測試排程

| 測試階段 | 週數 | 測試內容 | 負責人員 |
|----------|------|----------|----------|
| 功能測試 | 1-3週 | 核心功能驗證 | QA工程師×2 |
| 遙控器測試 | 4-5週 | TV操作測試 | QA工程師×1 |
| 相容性測試 | 6-7週 | 設備相容性 | QA工程師×2 |
| 效能測試 | 8-9週 | 效能評估 | 效能工程師×1 |
| 安全性測試 | 10週 | 安全驗證 | 安全工程師×1 |
| 可用性測試 | 11週 | 使用者測試 | UX設計師×1 |
| 回歸測試 | 12週 | 最終驗證 | 全體QA團隊 |

## 測試報告

### 測試報告內容
1. **測試執行摘要**
2. **功能測試結果**
3. **效能測試數據**
4. **相容性測試矩陣**
5. **缺陷統計與分析**
6. **風險評估**
7. **發布建議**

### 交付標準
- 所有測試案例執行完成
- 測試覆蓋率 ≥ 85%
- 自動化測試覆蓋率 ≥ 60%
- 效能指標達到要求
- 安全性檢查通過
- 可用性測試滿意度 ≥ 80% 